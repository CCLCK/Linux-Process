# ç¨‹åºåœ°å€ç©ºé—´

è¿›ç¨‹åœ°å€ç©ºé—´å›¾

![image-20220116222258292](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116222258292.png)



**checkarea.c**

```c
#include<stdio.h>    
#include<unistd.h>    
#include<stdlib.h>    
    
int glo_val=0;    
int uninit_val;    
    
int main(int argc,char* argv[],char* env[])    
{    
  //ä»£ç åŒº    
  printf("code addr:%p\n\n",main);    
  //å­—ç¬¦å¸¸é‡åŒº    
  const char* p="hello world!";    
  printf("read only addr:%p\n\n",p);    
  //å·²åˆå§‹åŒ–å…¨å±€å˜é‡åŒº    
  printf("glo_val addr:%p\n",&glo_val);    
  //æœªåˆå§‹åŒ–å…¨å±€å˜é‡åŒº    
  printf("uninit addr:%p\n\n",&uninit_val);    
  //å †åŒº    
  char* q=(char*)malloc(10);    
  printf("heap addr:%p\n\n",q);    
  //æ ˆåŒº    
  printf("stack addr:%p\n",&p);    
  printf("stack addr:%p\n\n",&q);    
  //å‘½ä»¤è¡Œå‚æ•°    
  printf("args addr:%p\n",argv[0]);    
  printf("args addr:%p\n\n",argv[argc-1]);    
  //ç¯å¢ƒå˜é‡    
  printf("env addr:%p\n\n",env[0]);    
    
  //æµ‹è¯•staticä¿®é¥°çš„å˜é‡åœ¨å“ªå—åŒºåŸŸ    
  static int a=0;    
  printf("static addr:%p\n\n",&a);                                                                                                                        
    return 0;
}    
```

è¿è¡Œï¼š![image-20220116222454360](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116222454360.png)

å°†å…¶ä¸ä»£ç ä¸€ä¸€å¯¹åº”èµ·æ¥ï¼š

![image-20220116223649233](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116223649233.png)



## è™šæ‹Ÿåœ°å€

```c
#include<stdio.h>    
#include<unistd.h>      
   
int glo_val=0;    
 
int main()    
{    
  int ret=fork();    
  if(ret>0)    
  {    
  	//parent    
    while(1)    
    {    
      sleep(1);    
      printf("\n i am father::glo_val:%d, &glo_val:%p\n",glo_val,&glo_val);   
    }    
  }    
  else    
  {    
    //child    
    glo_val=100;    
    while(1)    
    {    
      sleep(1);                                                      
      printf("\n i am son::   glo_val:%d, &glo_val:%p\n",glo_val,&glo_val);   
    }    
  }    
  return 0;    
}
```

è¿è¡Œï¼š

![image-20220116224857353](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116224857353.png)



> è§‚å¯Ÿè¿è¡Œç»“æœï¼Œä¸ºä»€ä¹ˆä¸¤ä¸ªçš„åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯å€¼å´ä¸åŒï¼Ÿï¼Ÿï¼Ÿ
>
> åˆ°è¿™é‡Œå¼•å‡ºè™šæ‹Ÿå†…å­˜ï¼Œæ˜¾ç„¶åŒä¸€å—ç©ºé—´ä¸å¯èƒ½æœ‰ä¸¤ä¸ªå€¼ï¼Œå› ä¸ºæˆ‘ä»¬ä»å­¦Cè¯­è¨€èµ·ï¼ˆæ²¡å­¦ç³»ç»Ÿå‰ï¼‰**å–åˆ°çš„åœ°å€éƒ½æ˜¯è™šæ‹Ÿåœ°å€**ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„ç‰©ç†åœ°å€ï¼Œæˆ‘ä»¬åœ¨è¯­è¨€å±‚é¢æ‹¿åˆ°çš„éƒ½æ˜¯è™šæ‹Ÿåœ°å€ã€‚

![image-20220116230350224](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116230350224.png)

> - è™šæ‹Ÿå†…å­˜æœ¬è´¨ä¸Šä¹Ÿä¸è¿‡æ˜¯ç»“æ„ä½“(mm_struct)ï¼ˆ~~æºç æ²¡æ‰¾åˆ°ï¼Œå»ºè®®Linuxæºç ç‰ˆæœ¬åˆ«ä¸‹å¤ªé«˜äº†ï¼Œä¸å¥½æ‰¾ğŸ˜¥~~ï¼‰ï¼Œåœ¨mm_structé‡Œè§„å®šäº†åœ°å€çš„èµ·å§‹ï¼Œæ¯”å¦‚0x00000000åˆ°0x11111111è¿™å—ä»£è¡¨ä»£ç åŒº
>
> - å‡å¦‚å†…å­˜æ˜¯4Gï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½ä¼šä»¥ä¸ºè‡ªå·±æ‹¥æœ‰äº†4Gçš„å†…å­˜ï¼ˆè™šæ‹Ÿï¼‰
>
>   > è®²ä¸ªå°æ•…äº‹å¸®åŠ©ç†è§£ï¼Œä¸€ä¸ªèº«ä»·åäº¿çš„å¯Œè±ªï¼Œæœ‰åä¸ªç§ç”Ÿå­ï¼Œä»–å¯¹æ¯ä¸ªç§ç”Ÿå­è¯´ï¼šç™¾å¹´ä¹‹åæˆ‘æŠŠè‡ªå·±çš„æ‰€æœ‰è´¢äº§éƒ½å½’åˆ°ä½ åä¸‹ï¼Œç§ç”Ÿå­ä¹‹é—´å¹¶ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œæ‰€ä»¥æ¯ä¸ªç§ç”Ÿå­éƒ½ä¼šä»¥ä¸ºè‡ªå·±æ‹¥æœ‰åäº¿ï¼Œç§ç”Ÿå­æ¯æ¬¡å‘è‡ªå·±çš„çˆ¶äº²è¦é’±çˆ¶äº²éƒ½ä¼šç»™äºˆå›åº”
>   >
>   > å†æ¯”å¦‚ä½ æŠŠåä¸‡å­˜å…¥é“¶è¡Œï¼Œä½ ä»¥ä¸ºè‡ªå·±æœ‰çš„åä¸‡ï¼Œä½ æ¯æ¬¡è¦ä¸€ä¸¤ä¸‡éƒ½èƒ½åˆ°ä»ä¸­å–å‡ºæ¥ï¼Œä½ ä»¥ä¸ºä½ æ‹¥æœ‰åä¸‡ï¼Œä½†æ˜¯ä½ æ¯æ¬¡å–å¾—å¹¶ä¸æ˜¯åŸå…ˆçš„åä¸‡ã€‚
>   >
>   > æ­£å¦‚è¿›ç¨‹éœ€è¦å†…å­˜ç©ºé—´ï¼Œä»–æ˜¯è§‰å¾—è‡ªå·±æ‹¥æœ‰å…¨éƒ¨å†…å­˜çš„ã€‚
>
> - é¡µè¡¨å°±ç›¸å½“äºä¸€ç§æ˜ å°„å…³ç³»
>
> - è™šæ‹Ÿåœ°å€æ˜¯é æ“ä½œç³»ç»Ÿæä¾›çš„ï¼Œè™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜çš„è½¬åŒ–é çš„æ˜¯æ“ä½œç³»ç»Ÿ
> - è¿›ç¨‹åœ°å€ç©ºé—´ä¸æ˜¯å†…å­˜ï¼Œè€Œæ˜¯éšç€è¿›ç¨‹ä¸€ç›´å­˜åœ¨ï¼ˆå› ä¸ºæœ¬èº«å°±åªæ˜¯Cè¯­è¨€æ¨¡æ‹Ÿå‡ºæ¥çš„ç¨‹åºè€Œå·²)



## å››ä¸ªé—®é¢˜

è™šæ‹Ÿåœ°å€ç©ºé—´vsç‰©ç†ç©ºé—´ä¹‹é—´çš„å…³ç³»





å—æ³¨é‡Šï¼ˆhjkl)



![image-20220116155948824](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116155948824.png)



![image-20220116172000550](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220116172000550.png)